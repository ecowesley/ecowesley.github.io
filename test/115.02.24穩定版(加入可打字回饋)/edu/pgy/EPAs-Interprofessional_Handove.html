<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EPAs-跨專業交班</title>
    <style>
        body { font-family: "Microsoft JhengHei", Arial, sans-serif; margin: 0; padding: 20px; line-height: 1.6; }
        
        /* 頁籤樣式 */
        .tab-container { display: flex; background-color: #f1f1f1; border-bottom: 1px solid #ccc; margin-bottom: 20px; }
        .tab { padding: 10px 20px; cursor: pointer; background-color: #f1f1f1; border: none; outline: none; transition: 0.3s; font-size: 16px; }
        .tab:hover { background-color: #ddd; }
        /* 讓選中的頁籤反綠 */
        .tab.active {
            background-color: #04AA6D; 
            color: white;             
            font-weight: bold;
            border: none;             
        }

        .tab:hover:not(.active) {
            background-color: #ddd;
        }
        .content { display: none; padding: 20px; border: 1px solid #eee; }
        .content.active { display: block; }

        /* 表格與表單樣式 */
        table { border-collapse: collapse; width: 100%; margin-bottom: 20px; }
        th, td { border: 1px solid #000; padding: 10px; text-align: left; }
        th { background-color: #f2f2f2; }
        .info-header { display: flex; gap: 20px; margin-bottom: 15px; flex-wrap: wrap; }
        input[type="text"], input[type="date"], textarea { padding: 5px; border: 1px solid #ccc; font-size: 14px; }
        textarea { width: 100%; height: 80px; resize: vertical; }

        /* 按鈕樣式 */
        .btn-print { background-color: #28a745; color: white; padding: 10px 15px; border: none; cursor: pointer; border-radius: 5px; font-weight: bold; }
        .btn-print:hover { background-color: #218838; }
        .print-pos { float: right; margin-bottom: 10px; }

        /* 隱藏區塊 */
        .feedback-group { display: none; margin-top: 10px; }
        .feedback-item { margin-bottom: 5px; display: block; }

        /* 列印格式優化 (套用正確版邏輯) */
        @media print {
            /* 1. 隱藏不必要的元素 */
            .no-print, .tab-container, .btn-print, .print-exclude { display: none !important; }
            body { padding: 0; }
            .content { display: block !important; border: none; }
            #tab1 { display: none !important; } /* 只印評量表 */
            
            /* 2. 還原最原始的顯示方式 */
            .feedback-item { display: none; }
            .feedback-item:has(input:checked) { 
                display: block !important; 
                margin-bottom: 5px; 
                line-height: 1.6;
            }
            
            /* 3. 「其他」輸入框的列印修正 (關鍵) */
            .other-text-input {
                border: none !important;
                padding: 0 !important;
                margin: 0 !important;
                /* 強制字體、大小、粗細完全繼承自父層 */
                font: inherit !important;
                font-weight: normal !important;
                font-size: 16px !important;
                /* 解決對齊問題：使用 baseline 讓字坐在同一條基準線上 */
                vertical-align: baseline !important;
                background: transparent !important;
                height: auto !important;
            }

            /* 隱藏提示字 */
            .other-text-input::placeholder { color: transparent !important; }
            
            input[type="radio"], input[type="checkbox"] { accent-color: black; }
        }
    </style>
</head>
<body>

    <div class="tab-container no-print">
        <button class="tab active" onclick="showTab('tab1')">EPAs-跨專業交班-(1)說明</button>
        <button class="tab" onclick="showTab('tab2')">跨專業交班-(2)評量表</button>
    </div>

    <div id="tab1" class="content active">
        <h1>台灣護理學會可信賴專業活動 EPAs-跨專業交班</h1>
        
        <h3>1. 標題</h3>
        <p>跨專業交班</p>

        <h3>2. 任務描述</h3>
        <p>能與不同專業領域（如放射師、物理治療師、職能治療師等等）進行有效交班，確保病人獲得連續性且協同一致的全人照護。包含：<br>
            (1)整合病人的跨專業照護資訊。<br>
            (2)依據交接班原則進行交班(包括目前照護需求與特殊狀況，如隔離、約束..等)。<br>
            (3)對接班者的提問進行確認與釐清。<br>
            (4)完成護理交班作業規範。<br>
            <b>限制：</b><br>
            排除單位內交班及單位間交班。<br>
            <b>完成訓練必需（不限於）觀察之臨床情境：</b>跨專業交班。</p>
        
        <h3>3. 任務失敗時可能造成的風險</h3>
        <p>(1)學員：因資訊整合能力不足而無法回應其他專業提問，造成溝通壓力、降低自信。無法掌握跨專業照護的重點與目標，降低團隊合作效率。<br>
           (2)病人：照護不一致或不連貫、延誤重要處置及安全風險增加。<br>
           (3)醫院：因跨專業溝通斷裂導致醫療糾紛。團隊協作效率下降、成本提高。</p>
        
        <h3>4. 對應之核心能力</h3>
        <table>
            <tr>
                <td>
                    <table style="width: 100%; border-collapse: collapse; border: 1px solid black;">
                        <tr style="background-color: #d9d9d9; text-align: center; font-weight: bold;">
                            <td style="border: 1px solid black; width: 85%; text-align: center; vertical-align: middle; padding: 5px;">ACGME 核心能力</td>
                            <td style="border: 1px solid black; width: 15%; text-align: center; vertical-align: middle; padding: 5px;">核心能力</td>
                        </tr>
                        <tr>
                            <td style="border: 1px solid black; padding: 5px;">病人照護 Patient Care（PC） </td>
                            <td style="border: 1px solid black; text-align: center;">✓</td>
                        </tr>
                        <tr>
                            <td style="border: 1px solid black; padding: 5px;">醫學知識 Medical Knowledge（MK） </td>
                            <td style="border: 1px solid black; text-align: center;">✓</td>
                        </tr>
                        <tr>
                            <td style="border: 1px solid black; padding: 5px;">從工作中學習及成長 Practice-based learning and improvement （PBLI） </td>
                            <td style="border: 1px solid black; text-align: center;"></td>
                        </tr>
                        <tr>
                            <td style="border: 1px solid black; padding: 5px;">人際與溝通技巧 Interpersonal & Communication Skills（ICS） </td>
                            <td style="border: 1px solid black; text-align: center;">✓</td>
                        </tr>
                        <tr>
                            <td style="border: 1px solid black; padding: 5px;">專業素養 Professionalism（PROF） </td>
                            <td style="border: 1px solid black; text-align: center;">✓</td>
                        </tr>
                        <tr>
                            <td style="border: 1px solid black; padding: 5px;">制度下之臨床工作 System-based Practice（SBP） </td>
                            <td style="border: 1px solid black; text-align: center;">✓</td>
                        </tr>
                    </table>
                </td>
            </tr>
        </table>

        <h3>5. 先備知識、技能、態度與經驗</h3>
        <table>
            <tr>
                <th style="border: 1px solid black; text-align: center; vertical-align: middle; padding: 10px; background-color: #f2f2f2;">知識</th>
                <th style="border: 1px solid black; text-align: center; vertical-align: middle; padding: 10px; background-color: #f2f2f2;">技能</th>
                <th style="border: 1px solid black; text-align: center; vertical-align: middle; padding: 10px; background-color: #f2f2f2;">態度</th>
                <th style="border: 1px solid black; text-align: center; vertical-align: middle; padding: 10px; background-color: #f2f2f2;">必要經歷</th>
            </tr>
            <tr>
                <td>(1) 跨專業合作與病人照護整合概念。<br>(2) 病人主要疾病知識、照護需求與風險因素。</td>
                <td>(1)執行ISBAR 交班。<br>(2)運用護理資訊系統操作來執行病人交班。</td>
                <td>(1) 表現出用心且具責任感的交班態度。<br>(2)尊重病人的隱私。<br>(3)展現交班作業的自信。<br>(4)願意接受同儕或教師回饋。</td>
                <td>全程見習病人交班至少1次（含）以上。</td>
            </tr>
        </table>

        <h3>6. 評估進展所需相關資訊</h3>
        <p>直接觀察評估：針對學員在某一次（或某一班）任務執行的實際表現進行觀察與評估，推薦的工具有 ad-hoc EPA-based assessment、mini-CEX、DOPS……等，至少擇一工具完成 3 次。</p>

        <h3>7. 期待學員能夠獨立操作的時機</h3>
        <p>二年內達Level 4。</p>

        <h3>8. 信賴等級維持期限</h3>
        <p>離開工作單位≧6 個月，信賴授權、應重新評估至少 1 次且達 Level 4。</p>
    </div>

    <div id="tab2" class="content">
        <button class="btn-print print-pos no-print" onclick="handlePrint()">列印/另存PDF</button>
        <h1>台灣護理學會可信賴專業活動 EPAs-跨專業交班評量表</h1>

        <style>
            .info-table {
                width: 100%;
                border-collapse: collapse;
                margin-bottom: 20px;
                border: none !important;
            }

            .info-table td {
                padding: 10px 5px;
                border: none !important;
                vertical-align: middle;
            }

            .info-table input[type="text"], 
            .info-table input[type="date"] {
                padding: 5px;
                font-size: 14px;
            }
        </style>

        <table class="info-table">
            <tr>
                <td style="width: 45%;">
                    學員：<input type="text" id="studentName" placeholder="輸入姓名"> 
                </td>
                <td>
                    到職日（西元年∕月∕日）：<input type="date" id="hireDate"> 
                </td>
            </tr>
            <tr>
                <td>
                    教師：<input type="text" id="teacherName" placeholder="輸入姓名"> 
                </td>
                <td>
                    填表日期（西元年∕月∕日）：<input type="date" id="formDate"> 
                </td>
            </tr>
        </table>

        <h3>1. 主題：跨專業交班</h3>

        <h3>2. 情境：</h3>
        <p>與不同醫療專業成員進行病人跨專業交班，以整合資訊與形成一致照護計畫。</p>
        <p>【使用限制：排除單位內交班及單位間交班。】</p>

        <h3>3. 信賴等級評量：</h3>
        <p>（觀察學員執行狀況，下次遇到類似情境時，你認為此學員勝任之程度)</p>
        
        <table>
            <tr>
                <th style="text-align: center; vertical-align: middle; width: 15%;">信賴等級</th>
                <td style="text-align: center; vertical-align: middle; width: 17%;">Level 1</td>
                <td style="text-align: center; vertical-align: middle; width: 17%;">Level 2</td>
                <td style="text-align: center; vertical-align: middle; width: 17%;">Level 3</td>
                <td style="text-align: center; vertical-align: middle; width: 17%;">Level 4</td>
                <td style="text-align: center; vertical-align: middle; width: 17%;">Level 5</td>
            </tr>
            <tr>
                <th style="text-align: center; vertical-align: middle;">評量項目</th>
                <td style="text-align: center; vertical-align: middle;">學習者在旁觀察</td>
                <td style="text-align: center; vertical-align: middle;">教師在旁指導，必要時協助</td>
                <td style="text-align: center; vertical-align: middle;">教師事後重點確認</td>
                <td style="text-align: center; vertical-align: middle;">可獨立執行</td>
                <td style="text-align: center; vertical-align: middle;">可對其他人進行教學</td>
            </tr>
            <tr>
                <th style="text-align: center; vertical-align: middle;">整體評量</th>
                <td style="text-align: center; vertical-align: middle;"><input type="radio" name="trust_level" value="1"></td>
                <td style="text-align: center; vertical-align: middle;"><input type="radio" name="trust_level" value="2"></td>
                <td style="text-align: center; vertical-align: middle;"><input type="radio" name="trust_level" value="3"></td>
                <td style="text-align: center; vertical-align: middle;"><input type="radio" name="trust_level" value="4"></td>
                <td style="text-align: center; vertical-align: middle;"><input type="radio" name="trust_level" value="5"></td>
            </tr>
        </table>   

        <h3>4. 回饋參考內容</h3>
        <table id="ratingTable">
            <tr>
                <th style="text-align: center; vertical-align: middle;">觀察發現</th>
                <th style="text-align: center; vertical-align: middle;">未觀察</th><th style="text-align: center; vertical-align: middle;">可再加強</th><th style="text-align: center; vertical-align: middle;">符合期待</th><th style="text-align: center; vertical-align: middle;">優於期待</th>
            </tr>
            <tr>
                <td>(1) 能統整跨專業照護資訊</td>
                <td style="text-align: center;"><input type="radio" name="r1" value="bad" onclick="toggleFeedback(1, 'bad')"></td>
                <td style="text-align: center;"><input type="radio" name="r1" value="bad" onclick="toggleFeedback(1, 'bad')"></td>
                <td style="text-align: center;"><input type="radio" name="r1" value="good" onclick="toggleFeedback(1, 'good')"></td>
                <td style="text-align: center;"><input type="radio" name="r1" value="good" onclick="toggleFeedback(1, 'good')"></td>
            </tr>
            <tr>
                <td>(2) 依據交接班原則進行交班</td>
                <td style="text-align: center;"><input type="radio" name="r2" value="bad" onclick="toggleFeedback(2, 'bad')"></td>
                <td style="text-align: center;"><input type="radio" name="r2" value="bad" onclick="toggleFeedback(2, 'bad')"></td>
                <td style="text-align: center;"><input type="radio" name="r2" value="good" onclick="toggleFeedback(2, 'good')"></td>
                <td style="text-align: center;"><input type="radio" name="r2" value="good" onclick="toggleFeedback(2, 'good')"></td>
            </tr>
            <tr>
                <td>(3) 對接班者的提問進行確認與釐清</td>
                <td style="text-align: center;"><input type="radio" name="r3" value="bad" onclick="toggleFeedback(3, 'bad')"></td>
                <td style="text-align: center;"><input type="radio" name="r3" value="bad" onclick="toggleFeedback(3, 'bad')"></td>
                <td style="text-align: center;"><input type="radio" name="r3" value="good" onclick="toggleFeedback(3, 'good')"></td>
                <td style="text-align: center;"><input type="radio" name="r3" value="good" onclick="toggleFeedback(3, 'good')"></td>
            </tr>
            <tr>
                <td>(4) 完成護理交班作業規範</td>
                <td style="text-align: center;"><input type="radio" name="r4" value="bad" onclick="toggleFeedback(4, 'bad')"></td>
                <td style="text-align: center;"><input type="radio" name="r4" value="bad" onclick="toggleFeedback(4, 'bad')"></td>
                <td style="text-align: center;"><input type="radio" name="r4" value="good" onclick="toggleFeedback(4, 'good')"></td>
                <td style="text-align: center;"><input type="radio" name="r4" value="good" onclick="toggleFeedback(4, 'good')"></td>
            </tr>
        </table>

        <h3>5. 學員質性回饋</h3>
        <textarea style="width: 98%; height: 200px; padding: 10px; font-size: 16px;" placeholder="請填寫您的學習心得..."></textarea>

        <h3>6. 護理臨床教師質性回饋</h3>
        
        <div id="commendable-title" style="display:none; font-weight:bold; color:green; margin-top:10px;">值得嘉許：</div>
        
        <div id="good-feedback-1" class="feedback-group">
            <span class="print-exclude"><b>(1) 能統整跨專業照護資訊</b></span>
            <label class="feedback-item"><input type="checkbox"> 你能清楚整合醫療與該專業間重要資訊，使團隊快速掌握病人狀況。</label>
            <label class="feedback-item"><input type="checkbox"> 你對所照護的病人資訊掌握完整，交班時能簡明扼要說出交班重點，有助於接班者快速掌握照護重點。</label>
            <label class="feedback-item"><input type="checkbox"> 你能清晰且不遺漏地統整每位病人的重要資訊，展現出專業的態度。</label>
            <label class="feedback-item">
                <input type="checkbox"> <span class="print-exclude">其他：</span>
                <input type="text" class="other-text-input" placeholder="請輸入自訂回饋內容..." style="width: 600px; padding: 4px 8px; border: 1px solid #ccc; border-radius: 4px; font-family: inherit; font-size: 16px; font-weight: normal; outline: none;">
            </label>
        </div>
        <div id="good-feedback-2" class="feedback-group">
            <span class="print-exclude"><b>(2) 依據交接班原則進行交班</b></span>
            <label class="feedback-item"><input type="checkbox"> 你能夠熟練地按照ISBAR的順序完成交班作業，展現出你對交班作業的瞭解。</label>
            <label class="feedback-item"><input type="checkbox"> 你在交班過程中能夠詳細介紹病人的基本資料、現況、過去狀況、重要評估與提醒建議，這對於團隊照護非常有幫助。</label>
            <label class="feedback-item"><input type="checkbox"> 你能完成交班資料的完成整性，讓團隊照護成員可掌控完整訊息。</label>
            <label class="feedback-item">
                <input type="checkbox"> <span class="print-exclude">其他：</span>
                <input type="text" class="other-text-input" placeholder="請輸入自訂回饋內容..." style="width: 600px; padding: 4px 8px; border: 1px solid #ccc; border-radius: 4px; font-family: inherit; font-size: 16px; font-weight: normal; outline: none;">
            </label>
        </div>
        <div id="good-feedback-3" class="feedback-group">
            <span class="print-exclude"><b>(3) 對接班者的提問進行確認與釐清</b></span>
            <label class="feedback-item"><input type="checkbox"> 我觀察到你能發現病人問題，主動提出討論，透過良好的溝通，釐清交班內容。</label>
            <label class="feedback-item"><input type="checkbox"> 面對提問，你能即時且準確地回覆，並積極澄清疑慮，確保了資訊在轉移過程中的一致性與正確性。</label>
            <label class="feedback-item"><input type="checkbox"> 在面對提問時，你能保持鎮定與專業的溝通態度，清晰地解釋病人現況，沒有因緊張而遺漏或混淆重要資訊。</label>
            <label class="feedback-item">
                <input type="checkbox"> <span class="print-exclude">其他：</span>
                <input type="text" class="other-text-input" placeholder="請輸入自訂回饋內容..." style="width: 600px; padding: 4px 8px; border: 1px solid #ccc; border-radius: 4px; font-family: inherit; font-size: 16px; font-weight: normal; outline: none;">
            </label>
        </div>
        <div id="good-feedback-4" class="feedback-group">
            <span class="print-exclude"><b>(4) 完成護理交班作業規範</b></span>
            <label class="feedback-item"><input type="checkbox"> 你在交班時尊重他專業觀點，展現良好合作態度。</label>
            <label class="feedback-item"><input type="checkbox"> 你能維持良好溝通節奏，使會議內容順暢且聚焦。</label>
            <label class="feedback-item">
                <input type="checkbox"> <span class="print-exclude">其他：</span>
                <input type="text" class="other-text-input" placeholder="請輸入自訂回饋內容..." style="width: 600px; padding: 4px 8px; border: 1px solid #ccc; border-radius: 4px; font-family: inherit; font-size: 16px; font-weight: normal; outline: none;">
            </label>
        </div>

        <div id="improvement-title" style="display:none; font-weight:bold; color:red; margin-top:10px;">可再精進：</div>

        <div id="bad-feedback-1" class="feedback-group">
            <span class="print-exclude"><b>(1) 能統整跨專業照護資訊</b></span>
            <label class="feedback-item"><input type="checkbox"> 可更聚焦於與本次跨專業資訊，避免內容過多而失焦。</label>
            <label class="feedback-item"><input type="checkbox"> 建議交班前先釐清各專業的最新紀錄，以避免資訊過時。</label>
            <label class="feedback-item">
                <input type="checkbox"> <span class="print-exclude">其他：</span>
                <input type="text" class="other-text-input" placeholder="請輸入自訂回饋內容..." style="width: 600px; padding: 4px 8px; border: 1px solid #ccc; border-radius: 4px; font-family: inherit; font-size: 16px; font-weight: normal; outline: none;">
            </label>
        </div>
        <div id="bad-feedback-2" class="feedback-group">
            <span class="print-exclude"><b>(2) 依據交接班原則進行交班</b></span>
            <label class="feedback-item"><input type="checkbox"> 說明病況時可再更簡潔，抓重點即可。</label>
            <label class="feedback-item"><input type="checkbox"> 建議在 Recommendation 段落提出更具體的跨專業合作建議。</label>
            <label class="feedback-item">
                <input type="checkbox"> <span class="print-exclude">其他：</span>
                <input type="text" class="other-text-input" placeholder="請輸入自訂回饋內容..." style="width: 600px; padding: 4px 8px; border: 1px solid #ccc; border-radius: 4px; font-family: inherit; font-size: 16px; font-weight: normal; outline: none;">
            </label>
        </div>
        <div id="bad-feedback-3" class="feedback-group">
            <span class="print-exclude"><b>(3) 對接班者的提問進行確認與釐清</b></span>
            <label class="feedback-item"><input type="checkbox"> 如遇不確定事項，可誠實回應後立即查證並回報。</label>
            <label class="feedback-item"><input type="checkbox"> 可練習重複確認對方提問，以避免答非所問。</label>
            <label class="feedback-item">
                <input type="checkbox"> <span class="print-exclude">其他：</span>
                <input type="text" class="other-text-input" placeholder="請輸入自訂回饋內容..." style="width: 600px; padding: 4px 8px; border: 1px solid #ccc; border-radius: 4px; font-family: inherit; font-size: 16px; font-weight: normal; outline: none;">
            </label>
        </div>
        <div id="bad-feedback-4" class="feedback-group">
            <span class="print-exclude"><b>(4) 完成護理交班作業規範</b></span>
            <label class="feedback-item"><input type="checkbox"> 可再加强溝通語速與條理性，使交班更流暢。</label>
            <label class="feedback-item"><input type="checkbox"> 建議提出整合性觀點，協助團隊快速達成共識。</label>
            <label class="feedback-item">
                <input type="checkbox"> <span class="print-exclude">其他：</span>
                <input type="text" class="other-text-input" placeholder="請輸入自訂回饋內容..." style="width: 600px; padding: 4px 8px; border: 1px solid #ccc; border-radius: 4px; font-family: inherit; font-size: 16px; font-weight: normal; outline: none;">
            </label>
        </div>

        <br>
        <button class="btn-print no-print" onclick="handlePrint()">列印/另存PDF</button>
    </div>

    <script>
        // 頁籤切換
        function showTab(tabId) {
            document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
            document.querySelectorAll('.content').forEach(c => c.classList.remove('active'));
            document.querySelector(`button[onclick="showTab('${tabId}')"]`).classList.add('active');
            document.getElementById(tabId).classList.add('active');
        }

        // 聯動回饋邏輯
        function toggleFeedback(itemNum, type) {
            const goodGroup = document.getElementById(`good-feedback-${itemNum}`);
            const badGroup = document.getElementById(`bad-feedback-${itemNum}`);
            
            if (type === 'good') {
                goodGroup.style.display = 'block';
                badGroup.style.display = 'none';
                // 取消另一組的勾選
                badGroup.querySelectorAll('input').forEach(i => i.checked = false);
            } else {
                goodGroup.style.display = 'none';
                badGroup.style.display = 'block';
                // 取消另一組的勾選
                goodGroup.querySelectorAll('input').forEach(i => i.checked = false);
            }

            // 控制大標題顯示
            updateSectionTitles();
        }

        function updateSectionTitles() {
            const anyGood = Array.from(document.querySelectorAll('[id^="good-feedback-"]')).some(el => el.style.display === 'block');
            const anyBad = Array.from(document.querySelectorAll('[id^="bad-feedback-"]')).some(el => el.style.display === 'block');
            
            document.getElementById('commendable-title').style.display = anyGood ? 'block' : 'none';
            document.getElementById('improvement-title').style.display = anyBad ? 'block' : 'none';
        }

        // 列印功能
        function handlePrint() {
            const name = document.getElementById('studentName').value || "未填寫";
            const date = document.getElementById('formDate').value || "未填寫日期";
            const originalTitle = document.title;

            // 設置 PDF 檔名（透過修改網頁 Title）
            document.title = `EPAs-跨專業交班-${name}-${date}`;
            
            window.print();
            
            // 還原標題
            document.title = originalTitle;
        }

        // 預設今天日期
        document.getElementById('formDate').valueAsDate = new Date();
    </script>
</body>
</html>